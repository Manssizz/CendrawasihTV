#!/system/bin/sh

# RUN THIS SCRIPT ON ANDROID
pushd usr
ln -s '../../LICENSES/GPL-3.0.txt' 'share/doc/readline/LICENSE'
ln -s 'libreadline.so.8.0' 'lib/libreadline.so.8'
ln -s 'libhistory.so.8' 'lib/libhistory.so'
ln -s 'libreadline.so.8' 'lib/libreadline.so'
ln -s 'libhistory.so.8.0' 'lib/libhistory.so.8'
ln -s '../../LICENSES/MIT.txt' 'share/doc/ncurses/LICENSE'
ln -s 'libncursesw.so.6.1' 'lib/libncursesw.so.6'
ln -s 'libncurses.so.6.1' 'lib/libcurses.so.6.1'
ln -s 'libncurses.so' 'lib/libcurses.so'
ln -s 'libncursesw.so.6.1' 'lib/libncurses.so.6.1'
ln -s 'libncursesw.so' 'lib/libncurses.so'
ln -s 'libncursesw.so.6' 'lib/libncursesw.so'
ln -s 'libncurses.so.6' 'lib/libcurses.so.6'
ln -s '../share/terminfo' 'lib/terminfo'
ln -s 'libncursesw.so.6' 'lib/libncurses.so.6'
ln -s '../../LICENSES/Apache-2.0.txt' 'share/doc/command-not-found/LICENSE'
ln -s '../../LICENSES/GPL-3.0.txt' 'share/doc/termux-tools/LICENSE'
ln -s 'termux-open' 'bin/xdg-open'
ln -s '../../LICENSES/LGPL-2.0.txt' 'share/doc/libiconv/LICENSE'
ln -s '../../LICENSES/GPL-3.0.txt' 'share/doc/termux-licenses/LICENSE'
ln -s 'dash.1' 'share/man/man1/sh.1'
ln -s 'dash' 'bin/sh'
ln -s 'libz.so.1.2.11' 'lib/libz.so.1'
ln -s 'libz.so.1.2.11' 'lib/libz.so'
ln -s 'busybox' 'bin/env'
ln -s '../busybox' 'bin/applets/makemime'
ln -s '../busybox' 'bin/applets/touch'
ln -s '../busybox' 'bin/applets/nc'
ln -s '../busybox' 'bin/applets/unlzma'
ln -s '../busybox' 'bin/applets/chown'
ln -s '../busybox' 'bin/applets/mv'
ln -s '../busybox' 'bin/applets/cmp'
ln -s '../busybox' 'bin/applets/pstree'
ln -s '../busybox' 'bin/applets/bunzip2'
ln -s '../busybox' 'bin/applets/diff'
ln -s '../busybox' 'bin/applets/comm'
ln -s '../busybox' 'bin/applets/pscan'
ln -s '../busybox' 'bin/applets/id'
ln -s '../busybox' 'bin/applets/expr'
ln -s '../busybox' 'bin/applets/more'
ln -s '../busybox' 'bin/applets/cp'
ln -s '../busybox' 'bin/applets/gunzip'
ln -s '../busybox' 'bin/applets/uncompress'
ln -s '../busybox' 'bin/applets/rev'
ln -s '../busybox' 'bin/applets/pidof'
ln -s '../busybox' 'bin/applets/unexpand'
ln -s '../busybox' 'bin/applets/tee'
ln -s '../busybox' 'bin/applets/smemcap'
ln -s '../busybox' 'bin/applets/mpstat'
ln -s '../busybox' 'bin/applets/crontab'
ln -s '../busybox' 'bin/applets/fuser'
ln -s '../busybox' 'bin/applets/route'
ln -s '../busybox' 'bin/applets/mknod'
ln -s '../busybox' 'bin/applets/basename'
ln -s '../busybox' 'bin/applets/bzip2'
ln -s '../busybox' 'bin/applets/grep'
ln -s '../busybox' 'bin/applets/chgrp'
ln -s '../busybox' 'bin/applets/uniq'
ln -s '../busybox' 'bin/applets/sed'
ln -s '../busybox' 'bin/applets/uptime'
ln -s '../busybox' 'bin/applets/time'
ln -s '../busybox' 'bin/applets/timeout'
ln -s '../busybox' 'bin/applets/ttysize'
ln -s '../busybox' 'bin/applets/od'
ln -s '../busybox' 'bin/applets/vi'
ln -s '../busybox' 'bin/applets/lsusb'
ln -s '../busybox' 'bin/applets/svlogd'
ln -s '../busybox' 'bin/applets/sum'
ln -s '../busybox' 'bin/applets/false'
ln -s '../busybox' 'bin/applets/shuf'
ln -s '../busybox' 'bin/applets/ps'
ln -s '../busybox' 'bin/applets/lzma'
ln -s '../busybox' 'bin/applets/less'
ln -s '../busybox' 'bin/applets/cut'
ln -s '../busybox' 'bin/applets/usleep'
ln -s '../busybox' 'bin/applets/uudecode'
ln -s '../busybox' 'bin/applets/yes'
ln -s '../busybox' 'bin/applets/dos2unix'
ln -s '../busybox' 'bin/applets/sync'
ln -s '../busybox' 'bin/applets/iostat'
ln -s '../busybox' 'bin/applets/unzip'
ln -s '../busybox' 'bin/applets/ifconfig'
ln -s '../busybox' 'bin/applets/watch'
ln -s '../busybox' 'bin/applets/split'
ln -s '../busybox' 'bin/applets/awk'
ln -s '../busybox' 'bin/applets/udpsvd'
ln -s '../busybox' 'bin/applets/kill'
ln -s '../busybox' 'bin/applets/printenv'
ln -s '../busybox' 'bin/applets/sha256sum'
ln -s '../busybox' 'bin/applets/script'
ln -s '../busybox' 'bin/applets/lsof'
ln -s '../busybox' 'bin/applets/runsvdir'
ln -s '../busybox' 'bin/applets/clear'
ln -s '../busybox' 'bin/applets/pipe_progress'
ln -s '../busybox' 'bin/applets/runsv'
ln -s '../busybox' 'bin/applets/xz'
ln -s '../busybox' 'bin/applets/chrt'
ln -s '../busybox' 'bin/applets/mktemp'
ln -s '../busybox' 'bin/applets/ipcalc'
ln -s '../busybox' 'bin/applets/chattr'
ln -s '../busybox' 'bin/applets/tcpsvd'
ln -s '../busybox' 'bin/applets/linux64'
ln -s '../busybox' 'bin/applets/mkdir'
ln -s '../busybox' 'bin/applets/hostname'
ln -s '../busybox' 'bin/applets/nmeter'
ln -s '../busybox' 'bin/applets/gzip'
ln -s '../busybox' 'bin/applets/lsattr'
ln -s '../busybox' 'bin/applets/seq'
ln -s '../busybox' 'bin/applets/sv'
ln -s '../busybox' 'bin/applets/whoami'
ln -s '../busybox' 'bin/applets/dc'
ln -s '../busybox' 'bin/applets/base64'
ln -s '../busybox' 'bin/applets/fold'
ln -s '../busybox' 'bin/applets/nohup'
ln -s '../busybox' 'bin/applets/strings'
ln -s '../busybox' 'bin/applets/linux32'
ln -s '../busybox' 'bin/applets/crond'
ln -s '../busybox' 'bin/applets/dd'
ln -s '../busybox' 'bin/applets/rx'
ln -s '../busybox' 'bin/applets/cal'
ln -s '../busybox' 'bin/applets/wget'
ln -s '../busybox' 'bin/applets/ln'
ln -s '../busybox' 'bin/applets/printf'
ln -s '../busybox' 'bin/applets/nice'
ln -s '../busybox' 'bin/applets/inotifyd'
ln -s '../busybox' 'bin/applets/uname'
ln -s '../busybox' 'bin/applets/ftpget'
ln -s '../busybox' 'bin/applets/env'
ln -s '../busybox' 'bin/applets/reset'
ln -s '../busybox' 'bin/applets/date'
ln -s '../busybox' 'bin/applets/find'
ln -s '../busybox' 'bin/applets/cat'
ln -s '../busybox' 'bin/applets/whois'
ln -s '../busybox' 'bin/applets/httpd'
ln -s '../busybox' 'bin/applets/readlink'
ln -s '../busybox' 'bin/applets/chpst'
ln -s '../busybox' 'bin/applets/setsid'
ln -s '../busybox' 'bin/applets/renice'
ln -s '../busybox' 'bin/applets/tr'
ln -s '../busybox' 'bin/applets/pgrep'
ln -s '../busybox' 'bin/applets/tftp'
ln -s '../busybox' 'bin/applets/popmaildir'
ln -s '../busybox' 'bin/applets/stty'
ln -s '../busybox' 'bin/applets/ftpput'
ln -s '../busybox' 'bin/applets/fsync'
ln -s '../busybox' 'bin/applets/tar'
ln -s '../busybox' 'bin/applets/sort'
ln -s '../busybox' 'bin/applets/tty'
ln -s '../busybox' 'bin/applets/unxz'
ln -s '../busybox' 'bin/applets/start-stop-daemon'
ln -s '../busybox' 'bin/applets/sha512sum'
ln -s '../busybox' 'bin/applets/chmod'
ln -s '../busybox' 'bin/applets/sleep'
ln -s '../busybox' 'bin/applets/which'
ln -s '../busybox' 'bin/applets/true'
ln -s '../busybox' 'bin/applets/unlink'
ln -s '../busybox' 'bin/applets/wc'
ln -s '../busybox' 'bin/applets/arp'
ln -s '../busybox' 'bin/applets/sysctl'
ln -s '../busybox' 'bin/applets/killall'
ln -s '../busybox' 'bin/applets/hexdump'
ln -s '../busybox' 'bin/applets/patch'
ln -s '../busybox' 'bin/applets/pmap'
ln -s '../busybox' 'bin/applets/ar'
ln -s '../busybox' 'bin/applets/free'
ln -s '../busybox' 'bin/applets/xargs'
ln -s '../busybox' 'bin/applets/realpath'
ln -s '../busybox' 'bin/applets/softlimit'
ln -s '../busybox' 'bin/applets/pwd'
ln -s '../busybox' 'bin/applets/tac'
ln -s '../busybox' 'bin/applets/pwdx'
ln -s '../busybox' 'bin/applets/rm'
ln -s '../busybox' 'bin/applets/tftpd'
ln -s '../busybox' 'bin/applets/telnet'
ln -s '../busybox' 'bin/applets/pkill'
ln -s '../busybox' 'bin/applets/run-parts'
ln -s '../busybox' 'bin/applets/setuidgid'
ln -s '../busybox' 'bin/applets/du'
ln -s '../busybox' 'bin/applets/dirname'
ln -s '../busybox' 'bin/applets/hd'
ln -s '../busybox' 'bin/applets/tail'
ln -s '../busybox' 'bin/applets/getopt'
ln -s '../busybox' 'bin/applets/test'
ln -s '../busybox' 'bin/applets/rmdir'
ln -s '../busybox' 'bin/applets/sha1sum'
ln -s '../busybox' 'bin/applets/resize'
ln -s '../busybox' 'bin/applets/uuencode'
ln -s '../busybox' 'bin/applets/bbconfig'
ln -s '../busybox' 'bin/applets/md5sum'
ln -s '../busybox' 'bin/applets/scriptreplay'
ln -s '../busybox' 'bin/applets/sha3sum'
ln -s '../busybox' 'bin/applets/telnetd'
ln -s '../busybox' 'bin/applets/cksum'
ln -s '../busybox' 'bin/applets/egrep'
ln -s '../busybox' 'bin/applets/expand'
ln -s '../busybox' 'bin/applets/head'
ln -s '../busybox' 'bin/applets/nproc'
ln -s '../busybox' 'bin/applets/cpio'
ln -s '../busybox' 'bin/applets/install'
ln -s '../busybox' 'bin/applets/netstat'
ln -s '../busybox' 'bin/applets/reformime'
ln -s '../busybox' 'bin/applets/echo'
ln -s '../busybox' 'bin/applets/unix2dos'
ln -s '../busybox' 'bin/applets/ls'
ln -s '../busybox' 'bin/applets/mkfifo'
ln -s '../busybox' 'bin/applets/envdir'
ln -s '../busybox' 'bin/applets/sendmail'
ln -s '../busybox' 'bin/applets/ftpd'
ln -s '../../LICENSES/NCSA.txt' 'share/doc/libc++/LICENSE'
ln -s '../../LICENSES/BSD.txt' 'share/doc/openssl/LICENSE'
ln -s 'libssl.so.1.1' 'lib/libssl.so'
ln -s 'libcrypto.so.1.1' 'lib/libcrypto.so'
ln -s '../../LICENSES/MIT.txt' 'share/doc/libcurl/LICENSE'
ln -s '../../LICENSES/BSD.txt' 'share/doc/libbz2/LICENSE'
ln -s 'libbz2.so.1.0.6' 'lib/libbz2.so.1.0'
ln -s 'libbz2.so.1.0.6' 'lib/libbz2.so'
ln -s '../../LICENSES/GPL-2.0.txt' 'share/doc/dpkg/LICENSE'
ln -s '../../LICENSES/GPL-2.0.txt' 'share/doc/apt/LICENSE'
ln -s 'store' 'lib/apt/methods/lzma'
ln -s 'store' 'lib/apt/methods/xz'
ln -s 'rsh' 'lib/apt/methods/ssh'
ln -s 'store' 'lib/apt/methods/gzip'

popd

UID=$(stat -c %u .)
chown -R $UID.$UID .
chmod -R 0755 ./usr/bin ./usr/libexec

